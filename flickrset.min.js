function assert(t,o){if(!t)throw new Error(o)}function FlickrSet(t){var o={api_key:null,photo_set:null,user_id:null,selected_size:"Large Square",flickr_API:"https://api.flickr.com/services/rest/?method=",format:"json",wrapper_id:"#results",per_page:12,nojsoncallback:1,photo_wrapper:"a",photo_wrapper_class:"",photo_link:!0,photo_target:"_blank",photo_set_title:"",use_photo_set_title:!1,photo_set_title_tag:"h2",array_only:!1,debug:!1};if(FlickrPhotosetArray=[],t)for(var i in o)void 0!==t[i]&&(o[i]=t[i]);this._options=o,assert(this._options.api_key,"FlickrSet: You must specify an api_key"),assert(this._options.photo_set,"FlickrSet: You must specify a photo_set"),assert(this._options.user_id,"FlickrSet: You must specify a user_id"),this._debug(`API: ${this._options.flickr_API}`),this._debug(this._options)}FlickrSet.prototype.run=function(){var t=this;apiurl=`${this._options.flickr_API}flickr.photosets.getPhotos&api_key=${this._options.api_key}&photoset_id=${this._options.photo_set}&user_id=${this._options.user_id}&per_page=${this._options.per_page}&format=${this._options.format}&nojsoncallback=${this._options.nojsoncallback}`,this._debug("APIURL: "+apiurl),$.getJSON(apiurl,function(o){t._debug(o),t._options.photo_set_title=o.photoset.title,t._debug(t._options.photo_set_title),0==t._options.array_only&&t.renderPhotosetTitle(),$.each(o.photoset.photo,function(o,i){apiurl_size=t.getApiurlSize(i.id),$.getJSON(apiurl_size,function(o){t._debug(o),$.each(o.sizes.size,function(o,i){i.label==t._options.selected_size&&(t._options.array_only?FlickrPhotosetArray.push([i.url,i.source]):t.renderPhotoWrapper(i.url,i.source))})})})}),t._options.array_only&&t._debug(FlickrPhotosetArray)},FlickrSet.prototype.renderPhotosetTitle=function(){this._options.use_photo_set_title&&$(this._options.wrapper_id).before("<"+this._options.photo_set_title_tag+" >"+this._options.photo_set_title+"</"+this._options.photo_set_title_tag+">")},FlickrSet.prototype.renderPhotoWrapper=function(t,o){!0===this._options.photo_link&&"a"==this._options.photo_wrapper?$(this._options.wrapper_id).append("<"+this._options.photo_wrapper+' href="'+t+'" target="'+this._options.photo_target+'" class="'+this._options.photo_wrapper_class+'"><img src="'+o+'"/></'+this._options.photo_wrapper+">"):$(this._options.wrapper_id).append("<"+this._options.photo_wrapper+' class="'+this._options.photo_wrapper_class+'"><img src="'+o+'"/></'+this._options.photo_wrapper+">")},FlickrSet.prototype.getApiurlSize=function(t){return this._debug("getApiurlSize: "+t),this._options.flickr_API+"flickr.photos.getSizes&api_key="+this._options.api_key+"&photo_id="+t+"&format="+this._options.format+"&nojsoncallback="+this._options.nojsoncallback},FlickrSet.prototype._debug=function(t){this._options.debug&&console&&console.log(t)};